(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{5201:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var o=n(5155),l=n(2115),a=n(8142),r=n(3020);let u="mainWorkspace",c=function(e){var t;let n=r.JF.workspaces.save(e);null===(t=window.localStorage)||void 0===t||t.setItem(u,JSON.stringify(n))},i=function(e){var t;let n=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(u);n&&(r.sV.disable(),r.JF.workspaces.load(JSON.parse(n),e,!1),r.sV.enable())};var p=n(9705);let s=Object.create(null);s.add_text=function(e,t){let n=t.valueToCode(e,"TEXT",p.pH.NONE)||"''",o=t.provideFunction_("addText","function ".concat(t.FUNCTION_NAME_PLACEHOLDER_,"(text) {\n\n  // Add text to the output area.\n  const outputDiv = document.getElementById('output');\n  const textEl = document.createElement('p');\n  textEl.innerText = text;\n  outputDiv.appendChild(textEl);\n}"));return"".concat(o,"(").concat(n,");\n")},n(6492);let d={kind:"categoryToolbox",contents:[{kind:"category",name:"Shift",categorystyle:"logic_category",contents:[{kind:"block",type:"every"},{kind:"block",type:"play"},{kind:"block",type:"note"},{kind:"block",type:"volume"},{kind:"block",type:"pan"},{kind:"block",type:"cut"},{kind:"block",type:"num"},{kind:"block",type:"dynamic_list_create"},{kind:"block",type:"retrieve"}]},{kind:"category",name:"Logic",categorystyle:"logic_category",contents:[{kind:"block",type:"if"},{kind:"block",type:"compareif"}]},{kind:"category",name:"Math",categorystyle:"math_category",contents:[{kind:"block",type:"arithmatic"},{kind:"block",type:"declare"},{kind:"block",type:"math_random_int",inputs:{FROM:{shadow:{type:"math_number",fields:{NUM:1}}},TO:{shadow:{type:"math_number",fields:{NUM:100}}}}}]},{kind:"category",name:"Variables",categorystyle:"variable_category",custom:"VARIABLE"},{kind:"category",name:"Functions",categorystyle:"procedure_category",custom:"PROCEDURE"}]},m=new a.Wj("SHIFT"),y={ATOMIC:0};m.forBlock.every=function(e,t){let n=t.valueToCode(e,"loopNumber",y.ATOMIC)||"0",o=t.statementToCode(e,"listOfActions");return"every ".concat(n," \n ").concat(o)},m.forBlock.play=function(e,t){a=0,r=60,u=50,c=0;let n=t.valueToCode(e,"PLAY",y.ATOMIC);t.statementToCode(e,"playAttributes");for(var o=[],l=this.getInputTargetBlock("playAttributes");l;){try{var a=t.valueToCode(l,"NOTE",y.ATOMIC)}catch(e){}try{var r=t.valueToCode(l,"VOLUME",y.ATOMIC)}catch(e){}try{var u=t.valueToCode(l,"PAN",y.ATOMIC)}catch(e){}try{var c=t.valueToCode(l,"CUT",y.ATOMIC)}catch(e){}o.push(l),l=l.getNextBlock()}let i="play.".concat(n,"[ ")+r+", "+a+", "+u+", "+c+"]";return this.getSurroundParent()?i:""},m.forBlock.num=function(e){let t=e.getFieldValue("NUM");return this.getSurroundParent()?["".concat(t),y.ATOMIC]:""},m.forBlock.volume=function(e,t){let n=t.valueToCode(e,"VOLUME",y.ATOMIC);return this.getSurroundParent()?"".concat(n):""},m.forBlock.note=function(e,t){let n=t.valueToCode(e,"NOTE",y.ATOMIC);return this.getSurroundParent()?"".concat(n):""},m.forBlock.pan=function(e,t){let n=t.valueToCode(e,"PAN",y.ATOMIC);return this.getSurroundParent()?"".concat(n):""},m.forBlock.cut=function(e,t){let n=t.valueToCode(e,"CUT",y.ATOMIC);return"".concat(n)},m.forBlock.if=function(e,t){let n=t.statementToCode(e,"CONDITION",y.ATOMIC),o=t.statementToCode(e,"RESULT",y.ATOMIC),l="if ".concat(n," [ ").concat(o," ]");return this.getSurroundParent()?l:""},m.forBlock.compareif=function(e,t){let n=t.valueToCode(e,"LEFT",y.ATOMIC)||0,o=e.getFieldValue("COMPARISON"),l=t.valueToCode(e,"RIGHT",y.ATOMIC)||0,a="".concat(n," ").concat(o," ").concat(l);return this.getSurroundParent()?a:""},m.forBlock.arithmatic=function(e,t){let n=t.valueToCode(e,"A",y.ATOMIC)||"0",o=e.getFieldValue("OPERATOR"),l=t.valueToCode(e,"B",y.ATOMIC)||"0",a="".concat(n," ").concat(o," ").concat(l);return this.getSurroundParent()?[a,y.ATOMIC]:""},m.forBlock.declare=function(e,t){let n=t.valueToCode(e,"A",y.ATOMIC)||"0",o=t.valueToCode(e,"B",y.ATOMIC)||"0";return"".concat(n," = ").concat(o)},m.forBlock.dynamic_list_create=function(e,t){let n=e.itemCount||1,o=[];for(let l=0;l<n;l++){let n=t.valueToCode(e,"ADD"+l,y.ATOMIC)||"0";o.push(n)}return["[ ".concat(o.join(" ")," ] "),y.ATOMIC]},m.forBlock.retrieve=function(e,t){let n=t.valueToCode(e,"INDEX",y.ATOMIC)||"0",o=t.valueToCode(e,"LIST",y.ATOMIC)||"0";return["".concat(o,":").concat(n),y.ATOMIC]},m.scrub_=function(e,t,n){let o=e.nextConnection&&e.nextConnection.targetBlock();return o&&!n?t+"\n "+m.blockToCode(o):t};let v=a.sh.createBlockDefinitionsFromJsonArray([{type:"every",message0:"every %1 %2",args0:[{type:"input_value",name:"loopNumber"},{type:"input_statement",name:"listOfActions"}],inputsInline:!1,colour:230,tooltip:"",helpUrl:""},{type:"play",message0:"play %1 %2",args0:[{type:"input_value",name:"PLAY"},{type:"input_statement",name:"playAttributes"}],previousStatement:null,nextStatement:null,colour:100,tooltip:"",helpUrl:""},{type:"note",message0:"note %1",args0:[{type:"input_value",name:"NOTE"}],previousStatement:null,nextStatement:null,colour:10,tooltip:"",helpUrl:""},{type:"volume",message0:"volume %1",args0:[{type:"input_value",name:"VOLUME"}],previousStatement:null,nextStatement:null,colour:10,tooltip:"",helpUrl:""},{type:"pan",message0:"pan %1",args0:[{type:"input_value",name:"PAN"}],previousStatement:null,nextStatement:null,colour:10,tooltip:"",helpUrl:""},{type:"cut",message0:"cut %1",args0:[{type:"input_value",name:"CUT"}],previousStatement:null,nextStatement:null,colour:10,tooltip:"",helpUrl:""},{type:"num",message0:"%1",args0:[{type:"field_input",name:"NUM",text:"dog"}],inputsInline:!1,output:null,colour:180,tooltip:"",helpUrl:""},{type:"if",message0:"If %1 Do %2",args0:[{type:"input_value",name:"CONDITION"},{type:"input_statement",name:"RESULT"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"compareif",message0:"%1 %2 %3 %4",args0:[{type:"input_value",name:"LEFT"},{type:"field_dropdown",name:"COMPARISON",options:[["==","=="],["<","<"],[">",">"],["<=","<="],[">=",">="],["!=","!="]]},{type:"input_value",name:"RIGHT"},{type:"input_dummy"}],output:null,colour:230,tooltip:"",helpUrl:""},{type:"arithmatic",message0:"%1 %2 %3 %4",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OPERATOR",options:[["+","+"],["-","-"],["x","*"],["%","/"]]},{type:"input_value",name:"B"},{type:"input_dummy"}],output:"num",colour:230,tooltip:"",helpUrl:""},{type:"declare",message0:"Make %1 = %2 %3",args0:[{type:"input_value",name:"A"},{type:"input_value",name:"B"},{type:"input_dummy"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""},{type:"retrieve",message0:"Retrieve %1 position from %2 %3",args0:[{type:"input_value",name:"INDEX"},{type:"input_value",name:"LIST"},{type:"input_dummy"}],output:"num",colour:230,tooltip:"",helpUrl:""}]);n(4501);var T=n(4358);let g=()=>{let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(document.getElementById("blocklyDiv").childNodes.length>0)return;a.sh.defineBlocks(v),Object.assign(m.forBlock,s);let e=document.getElementById("blocklyDiv"),t=a.WQ(e,{toolbox:d});i(t),t.addChangeListener(e=>{e.isUiEvent||c(t)}),t.addChangeListener(e=>{e.isUiEvent||e.type===a.sV.FINISHED_LOADING||t.isDragging()||n()});let n=()=>{let e=m.workspaceToCode(t);document.getElementById("generatedCodeDummy").innerText=e,document.getElementById("generatedCodeDisplay").innerText=e};return()=>{t.dispose()}},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(T.A,{ref:e}),(0,o.jsx)("textarea",{id:"code"}),(0,o.jsx)("button",{className:"buttonW",onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.doEvaluate()},children:" ▶️ "}),(0,o.jsx)("button",{className:"buttonW",onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.stop()},children:" Stop "}),(0,o.jsx)("div",{id:"status"}),(0,o.jsx)("div",{id:"blocklyDiv",style:{height:"700px",width:"100%"}}),(0,o.jsx)("pre",{id:"generatedCodeDummy"}),(0,o.jsx)("pre",{id:"generatedCodeDisplay",children:(0,o.jsx)("code",{})})]})}},6492:()=>{},7241:(e,t,n)=>{Promise.resolve().then(n.bind(n,5201)),Promise.resolve().then(n.t.bind(n,6492,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[221,263,905,977,441,587,358],()=>t(7241)),_N_E=e.O()}]);